# 备份还原

## 备份命令
+ 单机：`mongodump --host 10.9.12.113 --port 27017 --db test  --out /home`
+ 集群：`mongodump --uri="mongodb://root@10.9.12.112:27017,10.9.12.114:27017,10.9.12.117:27017/?authSource=admin" -u root -p 123456 -d test  -o d:\`
+ 带查询条件，使用外部文件：`mongodump --uri mongodb://root@10.9.12.112:27017,10.9.12.114:27017,10.9.12.117:27017/?authSource=admin -u root -p 123456 -d test -c trace_log --queryFile f:\query.txt -o f:\`  外部文件：`{"@timestamp" : { "$gte" : "\"2020-06-04T02:10:20.069Z\"" }}`
## 还原命令
+ 单机：`mongorestore --host 127.0.0.1 --port 27017 --db cc --gzip F:\temp\mongodump\ecis_dz`
+ 集群：`mongorestore --uri="mongodb://root@10.9.12.112:27017,10.9.12.114:27017,10.9.12.117:27017/?authSource=admin" -u root -p 123456 -d test  d:\test`